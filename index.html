<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–ü–æ–¥–∞—Ä–æ–∫ –¥–ª—è –ë–µ–ª–æ—á–∫–∏</title>
  <meta name="description" content="–ù–æ–≤–æ–≥–æ–¥–Ω–∏–π –ø–æ–¥–∞—Ä–æ–∫ –¥–ª—è –Æ–ª–∏–∞–Ω—ã (–ë–µ–ª–æ—á–∫–∏): ¬£200 –Ω–∞ Oxford Street –∏ –æ–∫—Ä–µ—Å—Ç–Ω–æ—Å—Ç—è—Ö + —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ –º—É–∂–∞ –∏ –º–∏–Ω–∏–º—É–º 5 ¬´–≤–∞—É!¬ª" />

  <style>
    :root{
      --bg1:#0b1020;
      --bg2:#1a0b2e;
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.72);
      --card: rgba(255,255,255,.08);
      --radius: 22px;
      --shadow: 0 20px 60px rgba(0,0,0,.35);
      --a1:#ffcc66;
      --a2:#ff5fa2;
      --a3:#7c5cff;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Helvetica Neue", sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 800px at 20% 10%, rgba(124,92,255,.35), transparent 60%),
        radial-gradient(1000px 700px at 80% 30%, rgba(255,95,162,.22), transparent 60%),
        radial-gradient(900px 600px at 50% 90%, rgba(255,204,102,.18), transparent 60%),
        linear-gradient(135deg, var(--bg1), var(--bg2));
      overflow-x:hidden;
    }

    [hidden]{ display:none !important; }

    .aurora{
      position:fixed;
      inset:-20vh -20vw;
      pointer-events:none;
      background:
        radial-gradient(700px 380px at 15% 15%, rgba(255,204,102,.18), transparent 60%),
        radial-gradient(760px 420px at 85% 30%, rgba(255,95,162,.16), transparent 60%),
        radial-gradient(900px 520px at 55% 90%, rgba(124,92,255,.16), transparent 60%);
      filter: blur(10px);
      opacity:.9;
      transform: translate3d(0,0,0);
      will-change: transform;
    }

    .wrap{
      max-width: 980px;
      margin: 0 auto;
      padding: 0 16px 56px;
    }

    .topbar{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding: 18px 6px 16px;
      position: sticky;
      top: 0;
      z-index: 20;
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      background: linear-gradient(180deg, rgba(11,16,32,.55), rgba(11,16,32,.0));
    }

    .badge{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding:10px 14px;
      background: rgba(255,255,255,.07);
      border: 1px solid rgba(255,255,255,.10);
      border-radius: 999px;
      box-shadow: 0 10px 30px rgba(0,0,0,.2);
      font-size: 14px;
      color: var(--muted);
      white-space:nowrap;
    }

    .spark{
      width:10px;height:10px;border-radius:50%;
      background: linear-gradient(135deg, var(--a1), var(--a2));
      box-shadow: 0 0 0 6px rgba(255,204,102,.12);
    }

    /* ‚Äú—Å—Ç—Ä–∞–Ω–∏—Ü—ã‚Äù */
    body { scroll-snap-type: y mandatory; }
    .page{
      min-height: 100svh;
      display:flex;
      align-items:center;
      padding: 22px 0;
      scroll-snap-align: start;
    }

    .hero{
      position:relative;
      padding: 26px 18px;
      border-radius: var(--radius);
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
      border: 1px solid rgba(255,255,255,.14);
      box-shadow: var(--shadow);
      overflow:hidden;
      width:100%;
    }
    .hero::before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(600px 300px at 10% 10%, rgba(255,204,102,.22), transparent 60%),
        radial-gradient(600px 300px at 90% 30%, rgba(255,95,162,.18), transparent 60%),
        radial-gradient(700px 350px at 50% 100%, rgba(124,92,255,.18), transparent 60%);
      pointer-events:none;
      opacity:.9;
    }

    h1{
      margin: 0 0 10px;
      font-size: clamp(28px, 3.8vw, 46px);
      line-height: 1.08;
      letter-spacing: -0.02em;
      position:relative;
    }
    h2{
      margin:0 0 8px;
      font-size: clamp(18px, 2.5vw, 24px);
      letter-spacing: -0.01em;
      position:relative;
    }
    .subtitle{
      margin:0 0 14px;
      font-size: clamp(16px, 2.2vw, 18px);
      color: var(--muted);
      line-height: 1.55;
      position:relative;
    }

    .grid{
      position:relative;
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap: 18px;
      align-items:stretch;
    }
    @media (max-width: 860px){
      .grid{grid-template-columns:1fr; gap:14px;}
    }

    .card{
      background: rgba(0,0,0,.18);
      border: 1px solid rgba(255,255,255,.12);
      border-radius: var(--radius);
      padding: 16px;
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      box-shadow: 0 10px 30px rgba(0,0,0,.18);
    }

    .highlight{
      display:inline-block;
      padding: 2px 10px;
      border-radius: 999px;
      background: rgba(255,204,102,.12);
      border: 1px solid rgba(255,204,102,.25);
      color: rgba(255,255,255,.90);
      font-weight: 800;
      letter-spacing: .01em;
    }

    .list{
      display:grid;
      gap:10px;
    }
    .item{
      display:flex;
      gap:12px;
      align-items:flex-start;
      padding: 12px 12px;
      border-radius: 16px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
    }
    .ico{
      width:40px;height:40px;border-radius:14px;
      display:grid;place-items:center;
      background: linear-gradient(135deg, rgba(255,204,102,.22), rgba(255,95,162,.20));
      border: 1px solid rgba(255,255,255,.16);
      box-shadow: 0 10px 26px rgba(0,0,0,.20);
      flex:0 0 auto;
    }
    .item p{margin:0; color: var(--muted); line-height:1.55; font-size:15px;}
    .item strong{color: rgba(255,255,255,.92);}

    /* –ì–∞–ª–µ—Ä–µ—è */
    .gallery{
      display:grid;
      grid-template-columns: repeat(12, 1fr);
      gap: 12px;
      position:relative;
    }
    .ph{
      position:relative;
      border-radius: 18px;
      overflow:hidden;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.25);
      box-shadow: 0 12px 30px rgba(0,0,0,.20);
      min-height: 180px;
    }
    .ph img{
      width:100%;
      height:100%;
      object-fit: cover;
      display:block;
      transform: scale(1.02);
      filter: saturate(1.05);
    }
    .ph::after{
      content:"";
      position:absolute; inset:0;
      background: linear-gradient(to top, rgba(0,0,0,.55), rgba(0,0,0,.0) 55%);
      pointer-events:none;
    }
    .cap{
      position:absolute;
      left:12px; right:12px; bottom:10px;
      font-size: 13px;
      color: rgba(255,255,255,.88);
      text-shadow: 0 10px 25px rgba(0,0,0,.55);
    }
    .ph.big{ grid-column: span 12; min-height: 260px; }
    .ph.half{ grid-column: span 6; }
    .ph.third{ grid-column: span 4; }
    @media (max-width: 860px){
      .ph.big, .ph.half, .ph.third { grid-column: span 12; }
      .ph{ min-height: 210px; }
    }

    .footer{
      text-align:center;
      color: rgba(255,255,255,.72);
      font-size: 14px;
      margin-top: 12px;
      position:relative;
    }
    .sign{
      margin-top: 6px;
      font-size: 16px;
      color: rgba(255,255,255,.90);
      position:relative;
    }

    /* –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è */
    .reveal{
      opacity: 0;
      transform: translateY(34px) scale(.975);
      filter: blur(10px);
      transition:
        opacity .85s ease,
        transform .85s cubic-bezier(.2,.9,.2,1),
        filter .85s ease;
      will-change: opacity, transform, filter;
    }
    .reveal.in{
      opacity: 1;
      transform: translateY(0) scale(1);
      filter: blur(0);
    }
    .stagger > *{
      opacity: 0;
      transform: translateY(10px);
      transition: opacity .65s ease, transform .65s ease;
    }
    .stagger.in > *{
      opacity: 1;
      transform: translateY(0);
    }
    .stagger.in > *:nth-child(1){transition-delay: .05s}
    .stagger.in > *:nth-child(2){transition-delay: .12s}
    .stagger.in > *:nth-child(3){transition-delay: .19s}
    .stagger.in > *:nth-child(4){transition-delay: .26s}
    .stagger.in > *:nth-child(5){transition-delay: .33s}
  </style>
</head>

<body>
  <div class="aurora" aria-hidden="true"></div>

  <div class="wrap">
    <div class="topbar">
      <div class="badge"><span class="spark"></span>–ü–æ–¥–∞—Ä–æ–∫ –¥–ª—è –ë–µ–ª–æ—á–∫–∏</div>
      <div class="badge">üõçÔ∏è London Shopping ‚ú®</div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ 1 -->
    <section class="page">
      <div class="hero reveal" data-reveal>
        <div class="grid">
          <div class="card stagger" data-stagger>
            <h1><br/>–õ—é–±–∏–º–∞—è –ë–µ–ª–æ—á–∫–∞! üêøÔ∏è</h1>
            <p class="subtitle">
              –£ –º–µ–Ω—è –¥–ª—è —Ç–µ–±—è –ø–æ–¥–∞—Ä–æ–∫, –∫–æ—Ç–æ—Ä—ã–π –ø–∞—Ö–Ω–µ—Ç –õ–æ–Ω–¥–æ–Ω–æ–º, –≤–∏—Ç—Ä–∏–Ω–∞–º–∏ –∏ ¬´–Ω—É –µ—â—ë –æ–¥–∏–Ω –º–∞–≥–∞–∑–∏–Ω—á–∏–∫ –∏ –≤—Å—ë!¬ª üòÑ
            </p>

            <div class="list">
              <div class="item">
                <div class="ico">üí∑</div>
                <p><strong>¬£200</strong> ‚Äî –Ω–∞ Oxford Street –∏ –≤ –æ–∫—Ä–µ—Å—Ç–Ω–æ—Å—Ç—è—Ö.</p>
              </div>

              <div class="item">
                <div class="ico">ü§ù</div>
                <p><strong>–°–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ –º—É–∂–∞</strong> –≤–æ –≤—Ä–µ–º—è —à–æ–ø–ø–∏–Ω–≥–∞ (–¥–∞, –¥–æ–±—Ä–æ–≤–æ–ª—å–Ω–æ).</p>
              </div>

              <div class="item">
                <div class="ico">üî•</div>
                <p><strong>–ú–∏–Ω–∏–º—É–º 5</strong> —á–µ—Å—Ç–Ω—ã—Ö –≤–æ—Å–∫–ª–∏—Ü–∞–Ω–∏–π: <strong>¬´–í–∞—É, —Å—É–ø–µ—Ä, —Ç–µ–±–µ —ç—Ç–æ –æ—á–µ–Ω—å –∏–¥—ë—Ç!¬ª</strong></p>
              </div>
            </div>

            <p class="subtitle" style="margin-top:12px">
              –ü—Ä–∞–≤–∏–ª–æ –¥–Ω—è: —Ç—ã –≤—ã–±–∏—Ä–∞–µ—à—å ‚Äî —è –≤–æ—Å—Ö–∏—â–∞—é—Å—å. ü§ç
            </p>
          </div>

          <div class="card stagger" data-stagger>
            <h2>–ú–∞—Ä—à—Ä—É—Ç –º–µ—á—Ç—ã</h2>
            <p class="subtitle" style="margin-bottom:10px">
              Oxford Street ‚Üí Regent Street ‚Üí Carnaby ‚Üí Soho (–∏ –≤—Å—ë, —á—Ç–æ –∑–∞—Ö–æ—á–µ—à—å –ø–æ –ø—É—Ç–∏).
            </p>
            <div class="item">
              <div class="ico">üïí</div>
              <p>–ù–∏–∫–∞–∫–æ–π —Å–ø–µ—à–∫–∏ ‚Äî —Ç–æ–ª—å–∫–æ —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ, –∫—Ä–∞—Å–∏–≤—ã–µ –≤–µ—â–∏ –∏ —Å–ø–æ–∫–æ–π–Ω–æ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ.</p>
            </div>
            <div style="height:10px"></div>
            <div class="item">
              <div class="ico">üßæ</div>
              <p>–ú—É–∂ –≤ —Ä–æ–ª–∏ –≤–æ—Å—Ç–æ—Ä–∂–µ–Ω–Ω–æ–≥–æ –∑—Ä–∏—Ç–µ–ª—è –∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –∏—Å–∫—Ä–µ–Ω–Ω–∏—Ö ¬´–≤–∞—É¬ª.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ 2: —Ñ–æ—Ç–æ–≥–∞–ª–µ—Ä–µ—è -->
    <section class="page">
      <div class="hero reveal" data-reveal>
        <div class="stagger" data-stagger>
          <h2>–õ–æ–Ω–¥–æ–Ω –∂–¥—ë—Ç ‚ú®</h2>
          <p class="subtitle">–ù–µ—Å–∫–æ–ª—å–∫–æ –∫–∞–¥—Ä–æ–≤ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è.</p>
        </div>

        <div class="gallery" style="margin-top:14px; position:relative;">
  <figure class="ph big">
    <img id="ph0" alt="London / Oxford Street" />
    <figcaption class="cap">–õ–æ–Ω–¥–æ–Ω –∂–¥–µ—Ç. Oxford Street –∑–æ–≤—ë—Ç.</figcaption>
  </figure>

  <figure class="ph half">
    <img id="ph1" alt="Oxford Street London" />
    <figcaption class="cap">–ü–æ—Ä–∞ –Ω–∞ —à–æ–ø–ø–∏–Ω–≥?</figcaption>
  </figure>

  <figure class="ph half">
    <img id="ph2" alt="Regent / Soho vibes" />
    <figcaption class="cap">–í–∞–π–± –±–æ–ª—å—à–æ–≥–æ –≥–æ—Ä–æ–¥–∞</figcaption>
  </figure>

  <figure class="ph third">
    <img id="ph3" alt="London shopping vibe" />
    <figcaption class="cap">–ú–º–º, —Ö–æ—á—É-—Ö–æ—á—É</figcaption>
  </figure>

  <figure class="ph third">
    <img id="ph4" alt="London street" />
    <figcaption class="cap">–ï—â—ë –æ–¥–∏–Ω –ø–æ–≤–æ—Ä–æ—Ç –∏ –µ—â—ë –æ–¥–∏–Ω ‚Äú–≤–∞—É‚Äù.</figcaption>
  </figure>

  <figure class="ph third">
    <img id="ph5" alt="London architecture" />
    <figcaption class="cap">–ü–æ—Ö–æ–∂–µ –Ω–∞ –ê—à–¥–æ–¥?</figcaption>
  </figure>
</div>

        <div class="footer">
          –ü–æ–¥—Å–∫–∞–∑–∫–∞: –æ–±–Ω–æ–≤–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ —Å–æ—á–µ—Ç–∞–Ω–∏—è.
        </div>
      </div>
    </section>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ 3 -->
    <section class="page">
      <div class="hero reveal" data-reveal>
        <div class="stagger" data-stagger style="text-align:center">
          <h2>–ë–µ–ª–æ—á–∫–∞, —ç—Ç–æ —Ç–≤–æ–π –¥–µ–Ω—å üêøÔ∏èüíõ</h2>
          <p class="subtitle" style="max-width:62ch; margin: 0 auto;">
            ¬£200 ‚Äî –Ω–∞ —Ä–∞–¥–æ—Å—Ç—å. –ú—É–∂ ‚Äî –≤ —Ä–æ–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏, –Ω–æ—Å–∏–ª—å—â–∏–∫–∞ –ø–∞–∫–µ—Ç–æ–≤ –∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –∫–æ–º–ø–ª–∏–º–µ–Ω—Ç–æ–≤.
            –û–±–µ—â–∞—é: –º–∏–Ω–∏–º—É–º –ø—è—Ç—å ‚Äú–≤–∞—É‚Äù ‚Äî –∏ –≤—Å–µ –ø–æ –¥–µ–ª—É.
          </p>

          <div class="card" style="display:inline-block; margin-top:16px">
            <div class="sign" style="margin:0">–¢–≤–æ–π –Å–∂–∏–∫. ü¶î</div>
          </div>
        </div>
      </div>
    </section>
  </div>

  <script>
     window.__PEX_KK__ = "__PEX_K__";
    // reveal + stagger
    (() => {
      const revealEls = document.querySelectorAll('[data-reveal]');
      const staggerEls = document.querySelectorAll('[data-stagger]');

      const io = new IntersectionObserver((entries) => {
        for (const e of entries) {
          if (e.isIntersecting) {
            e.target.classList.add('in');
            const st = e.target.querySelector?.('[data-stagger]');
            if (st) st.classList.add('in');
            io.unobserve(e.target);
          }
        }
      }, { threshold: 0.01, rootMargin: '0px 0px -20% 0px' });

      revealEls.forEach(el => io.observe(el));

      const ioSt = new IntersectionObserver((entries) => {
        for (const e of entries) {
          if (e.isIntersecting) {
            e.target.classList.add('in');
            ioSt.unobserve(e.target);
          }
        }
      }, { threshold: 0.2 });

      staggerEls.forEach(el => ioSt.observe(el));

      // parallax
      const aurora = document.querySelector('.aurora');
      let raf = 0;
      window.addEventListener('scroll', () => {
        if (!aurora) return;
        if (raf) return;
        raf = requestAnimationFrame(() => {
          const y = window.scrollY || 0;
          aurora.style.transform = `translate3d(0, ${y * 0.06}px, 0)`;
          raf = 0;
        });
      }, { passive: true });
    })();

      
function randInt(min, maxInclusive) {
  return Math.floor(Math.random() * (maxInclusive - min + 1)) + min;
}

function shuffleInPlace(arr) {
  for (let i = arr.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
  return arr;
}

async function fetchPexelsPool(query, poolSize = 60) {
    const key = decodePexKey(window.__PEX_KK__);
  if (!key) throw new Error("Pexels key is missing (not injected).");
  
  // page —Ç–æ–∂–µ —Ä–∞–Ω–¥–æ–º–∏–∑–∏—Ä—É–µ–º (–æ–±—ã—á–Ω–æ 1..10 –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ)
  const page = randInt(1, 8);

  const url = new URL("https://api.pexels.com/v1/search");
  url.searchParams.set("query", query);
  url.searchParams.set("per_page", String(Math.min(Math.max(poolSize, 15), 80)));
  url.searchParams.set("page", String(page));
  url.searchParams.set("orientation", "landscape");
  url.searchParams.set("size", "large");

  // –ß—Ç–æ–±—ã –Ω–µ –ø–æ–ø–∞—Å—Ç—å –≤ —Å—Ç—Ä–∞–Ω–Ω—ã–π –∫–µ—à –ø–æ URL, –¥–æ–±–∞–≤–∏–º –º—É—Å–æ—Ä–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä
  url.searchParams.set("_", String(Date.now()) + String(Math.random()).slice(2));

  const res = await fetch(url.toString(), {
    headers: { Authorization: key },
    cache: "no-store",
  });

  if (!res.ok) {
    const text = await res.text().catch(() => "");
    throw new Error(`Pexels API error: ${res.status} ${res.statusText} ${text}`);
  }

  const data = await res.json();
  return data.photos ?? [];
}

function setImgSafe(img, src) {
  if (!img) return;
  img.loading = "lazy";
  img.decoding = "async";
  img.referrerPolicy = "no-referrer";
  img.src = src;
}

async function fillGallery() {
  const imgIds = ["ph0", "ph1", "ph2", "ph3", "ph4", "ph5"];

  // –£–∑–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç —Ç–µ–º–∞—Ç–∏—á–Ω–æ—Å—Ç—å, –∞ —Ä–∞–Ω–¥–æ–º –±—É–¥–µ—Ç –≤–Ω—É—Ç—Ä–∏ –ø—É–ª–∞
  const queries = [
    "Oxford Street London",
    "Oxford Street London shopping",
    "Regent Street London lights",
    "Carnaby Street London",
    "Soho London street",
    "London shopping street",
  ];

  // –î–ª—è —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è: –±–µ—Ä—ë–º –±–æ–ª—å—à–∏–µ –ø—É–ª—ã –ø–æ 2‚Äì3 –∑–∞–ø—Ä–æ—Å–∞–º, –∞ –Ω–µ –ø–æ 6 (—Ç–∞–∫ –º–µ–Ω—å—à–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API)
  shuffleInPlace(queries);
  const chosenQueries = queries.slice(0, 3);

  const pools = await Promise.all(
    chosenQueries.map((q) => fetchPexelsPool(q, 70).catch(() => []))
  );

  // –°–∫–ª–µ–∏–≤–∞–µ–º, —É–±–∏—Ä–∞–µ–º –¥—É–±–ª–∏ –ø–æ id
  const byId = new Map();
  for (const p of pools.flat()) {
    if (p?.id != null && !byId.has(p.id)) byId.set(p.id, p);
  }

  let all = Array.from(byId.values());

  // –ï—Å–ª–∏ –≤–¥—Ä—É–≥ –º–∞–ª–æ ‚Äî –¥–æ–±—å—ë–º –æ–±—â–∏–º –∑–∞–ø—Ä–æ—Å–æ–º
  if (all.length < 20) {
    const extra = await fetchPexelsPool("London street", 80).catch(() => []);
    for (const p of extra) {
      if (p?.id != null && !byId.has(p.id)) byId.set(p.id, p);
    }
    all = Array.from(byId.values());
  }

  // –ë–µ—Ä—ë–º —Å–ª—É—á–∞–π–Ω—ã–µ 6
  shuffleInPlace(all);
  const chosen = all.slice(0, imgIds.length);

  imgIds.forEach((id, i) => {
    const img = document.getElementById(id);
    const p = chosen[i];
    const src =
      p?.src?.large2x ||
      p?.src?.large ||
      p?.src?.landscape ||
      p?.src?.original;

    if (src) {
      // –ü–æ–¥—Å—Ç—Ä–∞—Ö—É–µ–º—Å—è –æ—Ç –∫–µ—à–∞ –∫–∞—Ä—Ç–∏–Ω–æ–∫ –±—Ä–∞—É–∑–µ—Ä–æ–º: –¥–æ–±–∞–≤–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä v=
      const withBust = src + (src.includes("?") ? "&" : "?") + "v=" + Date.now();
      setImgSafe(img, withBust);
    }
  });
}
// –ó–∞–ø—É—Å–∫–∞–µ–º –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ DOM
document.addEventListener("DOMContentLoaded", () => {
  fillGallery().catch((err) => {
    console.error(err);
    // –ï—Å–ª–∏ —Ö–æ—á–µ—à—å ‚Äî —Ç—É—Ç –º–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—Å—Ç "–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ"
  });
});

function decodePexKey(obf) {
  const suffix = "._X";
  if (!obf || typeof obf !== "string") return "";
  if (obf.endsWith(suffix)) obf = obf.slice(0, -suffix.length);
  if (obf.length < 2) return obf;
  const a = obf[obf.length - 2];
  const b = obf[obf.length - 1];
  return obf.slice(0, -2) + b + a; // swap back
}
</script>
</body>
</html>
